<UserControl x:Class="TPVWPF.Views.SalesListView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:TPVWPF.Views"
             mc:Ignorable="d"
             d:DesignHeight="600"
             d:DesignWidth="800">

    <UserControl.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="FontFamily"
                    Value="Segoe UI" />
            <Setter Property="Foreground"
                    Value="#333333" />
            <Setter Property="VerticalAlignment"
                    Value="Center" />
        </Style>

        <Style TargetType="ListBox">
            <Setter Property="BorderThickness"
                    Value="0" />
            <Setter Property="Background"
                    Value="Transparent" />
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility"
                    Value="Disabled" />
        </Style>

        <Style TargetType="ListBoxItem">
            <Setter Property="Padding"
                    Value="12 10" />
            <Setter Property="Margin"
                    Value="0 2" />
            <Setter Property="Background"
                    Value="White" />
            <Setter Property="BorderBrush"
                    Value="#EEEEEE" />
            <Setter Property="BorderThickness"
                    Value="0 0 0 1" />
            <Style.Triggers>
                <Trigger Property="IsMouseOver"
                         Value="True">
                    <Setter Property="Background"
                            Value="#F5F5F5" />
                </Trigger>
                <Trigger Property="IsSelected"
                         Value="True">
                    <Setter Property="Background"
                            Value="#E6F2FF" />
                    <Setter Property="BorderBrush"
                            Value="#B8D6FF" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="HeaderText"
               TargetType="TextBlock">
            <Setter Property="FontSize"
                    Value="24" />
            <Setter Property="FontWeight"
                    Value="SemiBold" />
            <Setter Property="Margin"
                    Value="20 15 20 25" />
            <Setter Property="Foreground"
                    Value="#1A73E8" />
        </Style>

        <Style x:Key="ColumnHeader"
               TargetType="TextBlock">
            <Setter Property="FontWeight"
                    Value="SemiBold" />
            <Setter Property="FontSize"
                    Value="14" />
            <Setter Property="Foreground"
                    Value="#666666" />
            <Setter Property="Margin"
                    Value="0 0 0 10" />
        </Style>

        <Style x:Key="TotalText"
               TargetType="TextBlock">
            <Setter Property="FontWeight"
                    Value="Bold" />
            <Setter Property="Foreground"
                    Value="#1A73E8" />
        </Style>
    </UserControl.Resources>

    <Grid Background="#FFF9F9F9">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Text="{Binding Source={StaticResource LocalizationService}, Path=SalesHistoryViewTitle}"
                   Style="{StaticResource HeaderText}" />

        <!-- Headers -->
        <StackPanel Grid.Row="1"
                    Orientation="Horizontal"
                    Margin="20 0 20 5">
            <TextBlock Text="ID"
                       Style="{StaticResource ColumnHeader}"
                       Width="60" />
            <TextBlock Text="{Binding Source={StaticResource LocalizationService}, Path=DateColumnHeader}"
                       Style="{StaticResource ColumnHeader}"
                       Width="160"
                       Margin="10 0 0 0" />
            <TextBlock Text="{Binding Source={StaticResource LocalizationService}, Path=FirstNameColumnHeader}"
                       Style="{StaticResource ColumnHeader}"
                       Width="120"
                       Margin="10 0 0 0" />
            <TextBlock Text="{Binding Source={StaticResource LocalizationService}, Path=LastNameColumnHeader}"
                       Style="{StaticResource ColumnHeader}"
                       Width="120" />
            <TextBlock Text="{Binding Source={StaticResource LocalizationService}, Path=TotalColumnHeader}"
                       Style="{StaticResource ColumnHeader}"
                       Width="100"
                       Margin="10 0 0 0" />
        </StackPanel>

        <!-- Lista de ventas -->
        <ListBox Grid.Row="1"
                 Name="SalesListBox"
                 Margin="20 0 20 20"
                 ItemsSource="{Binding Sales}"
                 SelectedItem="{Binding SelectedSale}">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding Id}"
                                   Width="60"
                                   FontSize="14" />
                        <TextBlock Text="{Binding Date, StringFormat=g}"
                                   Width="160"
                                   FontSize="14"
                                   Margin="10 0 0 0" />
                        <TextBlock Text="{Binding Customer.FirstName}"
                                   Width="120"
                                   FontSize="14"
                                   Margin="10 0 0 0" />
                        <TextBlock Text="{Binding Customer.LastName}"
                                   Width="120"
                                   FontSize="14" />
                        <TextBlock Text="{Binding Total, StringFormat=C2}"
                                   Width="100"
                                   FontSize="14"
                                   Margin="10 0 0 0"
                                   Style="{StaticResource TotalText}" />
                    </StackPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </Grid>
</UserControl>